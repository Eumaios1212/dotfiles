###############################################################################
# 1.  GeneralÂ / PrefixÂ / Defaults
###############################################################################
set-option  -g  prefix  C-a           # match Bash users who like Ctrlâ€‘a
unbind-key  C-b                       # remove the stock prefix
bind-key    C-a send-prefix

# Mouse and history
set -g mouse on
set -g history-limit 10000

# Base indices start atÂ 1 (consistent with paneâ€‘baseâ€‘index)
set -g base-index 1
setw -g pane-base-index 1

###############################################################################
# 2.  PaneÂ NavigationÂ &Â Splits
###############################################################################
# Alt + Arrow  â†’  move between panes (no prefix)
bind -n M-Left  select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up    select-pane -U
bind -n M-Down  select-pane -D

# Prefix + v/h  â†’  split panes (vertical / horizontal)
bind v split-window -h
bind h split-window -v

###############################################################################
# 3.  WindowÂ NavigationÂ &Â Reâ€‘Ordering
###############################################################################
# ShiftÂ +Â Arrow  â†’  switch windows quickly
bind -n S-Left  previous-window
bind -n S-Right next-window

# Prefix +  Ctrlâ€‘ShiftÂ +Â Arrow  â†’  reorder windows
bind -n C-S-Left  swap-window -t -1
bind -n C-S-Right swap-window -t +1

###############################################################################
# 4.  Qualityâ€‘ofâ€‘Life Functions
###############################################################################
# Prefix + r  â†’  reload config (like Bashâ€™s â€œsource ~/.bashrcâ€)
bind r  source-file ~/.tmux.conf \; display-message "tmux.conf reloaded."

# Prefix + y  â†’  toggle pane synchronization (handy with multiâ€‘SSH like your
# Bash â€œupÂ <n>â€ function)
bind y  set-window-option synchronize-panes \;\
         display-message "Sync panes: #{?pane_synchronize,ON,OFF}"

###############################################################################
# 5.  CopyÂ /Â Paste Mode
###############################################################################
bind -T copy-mode-vi MouseDragEnd1Pane send -X copy-pipe-and-cancel "wl-copy"

###############################################################################
# 6.  ThemeÂ (Colours aligned with Bash prompt)
#     BrightÂ green user  Â·  BrightÂ yellow host/branch  Â·  BrightÂ blue cwd
###############################################################################
set -g status-bg colour234             # dark grey/black
set -g status-fg colour39              # brightâ€‘blue (same family as prompt)

# Window titles
setw -g window-status-format  " #[fg=colour39]#I:#W "
setw -g window-status-current-format "#[bold,bg=colour39,fg=colour234] #I:#W "
setw -g window-status-activity-style bold,fg=colour220  # brightâ€‘yellow

# Pane borders (green for active, blue for inactive â†’ mirrors prompt)
set -g pane-active-border-style   fg=colour40   # brightÂ green
set -g pane-border-style          fg=colour39   # brightÂ blue

# Message bar (red errors like Bash promptâ€™s red â€œ+â€)
set -g message-style bg=colour234,fg=colour196  # bright red on dark

###############################################################################
# 7.  StatusÂ BarÂ Contents
###############################################################################
set -g status-interval 5
set -g status-justify centre
set -g status-left-length 40
set -g status-right-length 80

# ğŸ‘¤ user@host  ğŸ“‚ dir  â° time
set -g status-left  "#[fg=colour40,bold]#(whoami)#[fg=colour220]@#H "
set -g status-right "#[fg=colour220]%Y-%m-%d #[fg=colour39]%H:%M:%S "

###############################################################################
# 8.  Misc Tweaks
###############################################################################
set -g display-time 3000
set -g set-titles on                 # autoâ€‘rename window to current cmd

###############################################################################
# 9.  PluginsÂ â€“Â TPMÂ +Â Clipboard Integration (Wayland)
###############################################################################
# Tmux Plugin Manager (TPM) + tmux-yank for system clipboard support.
# Uses wl-copy (Wayland) for direct copy into system clipboard.
# Works with vi-mode, mouse, and OSCÂ 52 (remote SSH sessions).

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @clipboard 'wl-copy'

# TPM initialization â€“ keep this as the final plugin line
run '~/.tmux/plugins/tpm/tpm'
